import{src,dest,watch,series,parallel}from"gulp";import gulpSass from"gulp-sass";import sass from"sass";import clean from"gulp-clean";import uglify from"gulp-uglify";import htmlmin from"gulp-htmlmin";import concat from"gulp-concat";import cleanCSS from"gulp-clean-css";import browserSyncModule from"browser-sync";import ghPages from"gulp-gh-pages";let browserSync=browserSyncModule.create(),gulpSassInstance=gulpSass(sass);function cleanDist(){return src("./dist",{allowEmpty:!0}).pipe(clean())}function copyHTML(){return src("./*.html").pipe(htmlmin({collapseWhitespace:!0})).pipe(dest("./dist"))}function compileAndBundleCSS(){return src("./*.scss").pipe(gulpSassInstance().on("error",gulpSassInstance.logError)).pipe(concat("styles.min.css")).pipe(cleanCSS()).pipe(dest("./dist/css")).pipe(browserSync.stream())}function bundleJS(){return src("./*.js").pipe(concat("bundle.js")).pipe(uglify()).pipe(dest("./dist/js"))}function copyAssets(){return src("./assets/**/*",{encoding:!1}).pipe(dest("./dist/assets")).on("error",e=>console.error("Error in copyAssets task:",e))}function deploy(){return src("./dist/**/*",{encoding:!1}).pipe(ghPages())}function startServer(e){browserSync.init({server:{baseDir:"./dist"},port:3e3}),e()}function reloadBrowser(e){browserSync.reload(),e()}function watchFiles(){watch("./*.html",series(copyHTML,reloadBrowser)),watch("./*.scss",compileAndBundleCSS),watch("./*.js",series(bundleJS,reloadBrowser)),watch("./assets/**/*",series(copyAssets,reloadBrowser))}let build=series(cleanDist,parallel(copyHTML,compileAndBundleCSS,bundleJS,copyAssets)),_default=series(build,startServer,watchFiles),_build=build,_cleanDist=cleanDist,_deploy=deploy,h2=document.getElementsByClassName("title-menu")[0],menuButton=document.querySelector(".burger .menu-button");h2&&(h2.addEventListener("mouseover",()=>{menuButton.classList.add("hover")}),h2.addEventListener("mouseout",()=>{menuButton.classList.remove("hover")})),document.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("play");let t=document.querySelector(".video-container"),s=document.getElementById("project-video");var n=document.getElementById("close-video");e&&t&&s&&n?(e.addEventListener("click",()=>{console.log("Play button clicked"),t.classList.remove("hidden"),s.muted=!1,s.play().then(()=>{console.log("Video is playing")}).catch(e=>{console.error("Video playback failed:",e)})}),n.addEventListener("click",()=>{t.classList.add("hidden"),s.pause(),s.currentTime=0}),document.addEventListener("keydown",e=>{"Space"===e.code&&(e.preventDefault(),s.paused?(s.play(),s.muted=!1):(s.pause(),s.muted=!0)),s.paused||(s.pause(),s.currentTime=0,s.muted=!0),"Escape"!==e.code||t.classList.contains("hidden")||(t.classList.add("hidden"),s.pause(),s.currentTime=0,s.muted=!0)}),s.addEventListener("mousedown",e=>{0===e.button&&(s.paused?(s.play(),s.muted=!1):(s.pause(),s.muted=!0))})):console.error("One or more elements are missing in the DOM")}),document.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("form-btn"),t=document.getElementById("mobile-btn");let s=document.querySelector(".form-container"),n=document.getElementById("callback-form");var o=document.getElementById("close-form");let r=document.getElementById("name"),l=document.getElementById("phone"),a=document.getElementById("email");if(o&&o.addEventListener("click",()=>{n.classList.add("hidden")}),e){e.addEventListener("click",()=>{s.classList.remove("hidden")}),t&&t.addEventListener("click",()=>{s.classList.remove("hidden")}),s.addEventListener("submit",e=>{e.preventDefault();let t=!0;/^[+]?[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/.test(l.value)||(alert("Введите корректный номер телефона."),t=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value)||(alert("Введите корректный e-mail."),t=!1),t||e.preventDefault(),t&&(async(e,t)=>{await e(r.value,l.value,a.value),await t()})(function(e,t,s){console.log({name:e,phone:t,email:s})},function(){r.value="",l.value="",a.value=""})});document.addEventListener("keydown",e=>{"Escape"!==e.key||n.classList.contains("hidden")||n.classList.add("hidden")})}});export{_default as default,_build as build,_cleanDist as cleanDist,_deploy as deploy};